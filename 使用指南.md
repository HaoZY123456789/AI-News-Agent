# 🤖 AI资讯智能体使用指南

## 📋 简介

这是一个手动执行的AI资讯抓取工具，可以帮您获取最新的AI相关资讯并发送到邮箱。

## 🎯 主要功能

- 🔍 **智能抓取**：从30+权威AI资讯源抓取内容
- 🏷️ **关键词识别**：支持中英文AI关键词过滤
- 🤖 **智能总结**：对文章进行结构化总结和分析
- 📧 **邮件发送**：格式化邮件推送到您的邮箱

## 🚀 使用方法

### 基本命令

```bash
# 执行一次抓取（最常用）
python main.py --once

# 发送测试邮件
python main.py --test-email

# 查看统计信息
python main.py --stats

# 清理旧数据
python main.py --cleanup

# 查看帮助
python main.py --help
```

### 典型使用流程

1. **首次使用测试**
   ```bash
   python main.py --test-email
   ```

2. **执行抓取任务**
   ```bash
   python main.py --once
   ```

3. **查看结果统计**
   ```bash
   python main.py --stats
   ```

## ⚙️ 配置说明

### 邮件配置（config.ini）
```ini
[email]
smtp_server = smtp.qq.com
smtp_port = 465
sender_email = your_email@qq.com
sender_password = your_auth_code  # QQ邮箱16位授权码
receiver_email = your_email@qq.com
```

**重要提示**：
- QQ邮箱必须使用授权码，不是登录密码
- 需要在QQ邮箱设置中开启POP3/SMTP服务

### 抓取配置
```ini
[scraping]
update_interval_hours = 2
max_articles_per_send = 10
```

## 📊 输出示例

### 执行抓取后的输出：
```
🔄 手动执行AI资讯抓取任务
总共获取到 102 篇AI资讯
过滤后剩余 46 篇AI相关文章
开始对 46 篇文章进行总结...
成功添加 44 篇新文章
邮件发送成功！发送了 10 篇文章
✅ 任务执行完成

📧 如需查看收到的邮件，请检查您的邮箱
📊 如需查看统计信息，请运行: python main.py --stats
```

### 统计信息输出：
```
🤖 AI资讯智能体 - 统计信息
==================================================
📰 总文章数：156
📤 未发送文章：12
✅ 已发送文章：144
⏰ 最后发送时间：2025-09-15 00:46:51

📊 各来源文章统计：
  • ithome: 45 篇
  • techcrunch_ai: 23 篇
  • kr36_ai: 18 篇
```

## 🔧 故障排除

### 邮件发送失败
1. 检查config.ini中的邮件配置
2. 确认QQ邮箱已开启SMTP服务
3. 确认使用的是授权码而非登录密码

### 抓取失败
- 检查网络连接
- 部分国外网站可能需要代理访问

### 查看详细日志
```bash
# Windows
type logs\ai_news_agent.log

# 查看最新日志
tail -f logs/ai_news_agent.log  # 如果有WSL或Git Bash
```

## 💡 使用建议

1. **首次使用**：先运行测试邮件确认配置正确
2. **定期执行**：建议每天手动执行1-2次
3. **查看统计**：定期查看统计信息了解抓取情况
4. **清理数据**：定期清理旧数据释放存储空间

## 📁 文件结构

```
QoderProject/
├── main.py              # 主程序
├── config.ini           # 配置文件
├── ai_news.db           # SQLite数据库
├── logs/                # 日志目录
└── 使用指南.md           # 本文档
```

## 📝 更新记录

- **v1.1**：改进AI总结功能，真正的内容分析
- **v1.0**：基础抓取和邮件功能

---

💡 **提示**：这是手动执行模式，每次使用都需要运行命令。如果需要自动化执行，您可以设置Windows计划任务或使用其他定时工具。